# Введение в команды

Команды - это конкретные инструкции, которые Minecraft: Bedrock Edition будет выполняться. Эти команды могут быть
простыми, как изменение времени суток, или сложными, как настройка и работа с табло. Существует большое количество
команд, и каждая из них по-своему полезна для улучшения вашего контента.

Цель команд при создании контента - изменять или реагировать на окружающую игрока среду. Вместо того чтобы иметь
статичный мир, игрок может выполнить задачу, которую система команд может обнаружить и отреагировать на нее определенным
образом. Примером может служить обнаружение того, что игрок поместил цветной блок шерсти в определенное место на карте в
стиле "Завершить монумент".

В этом руководстве вы узнаете следующее:

+ Что такое команды и как начать их использовать.
+ Синтаксис команд.
+ Как использовать селекторы целей и параметры селекторов.

## Включение команд

Прежде чем приступить к работе с командами, необходимо включить читы. Это можно сделать при создании мира или при
редактировании мира. Имейте в виду, что включение читов будет иметь побочный эффект отключения достижений для этого
мира.

Активация читов позволит использовать команды в интерфейсе чата. Выполнение команд в чате необходимо для получения
первого командного блока во вновь созданном мире, который также должен быть включен (в том же меню), чтобы использовать
их. Командные блоки будут включены по умолчанию, поэтому вам не придется менять эту опцию.

![enablecheats.png](https://docs.microsoft.com/ru-ru/minecraft/creator/documents/media/commands/enablecheats.png)

Хотя это и не обязательно, в начале игры может быть полезно установить режим игры по умолчанию на творческий, поскольку
командные блоки можно редактировать только в творческом режиме. Установка творческого режима игры по умолчанию также
активирует читы.

![defaultgamemode.png](https://docs.microsoft.com/ru-ru/minecraft/creator/documents/media/commands/defaultgamemode.png)

Наконец, вам может понадобиться включить для себя разрешение "команды оператора", чтобы выполнять команды в чате и
получать доступ к командным блокам. Хотя эта настройка включена по умолчанию для новых создаваемых миров, вам может
понадобиться изменить ее для ранее созданных миров или для других игроков, которым вы хотите дать это разрешение. Это
можно сделать, открыв меню паузы, находясь в мире, и нажав на значок справа от вашего игрока.

![openpermissions.png](https://docs.microsoft.com/ru-ru/minecraft/creator/documents/media/commands/openpermissions.png)

Будет показан список различных разрешений. В частности, разрешение "Команды оператора" должно быть включено, чтобы
использовать команды в блоках команд чата и доступа.

![enablecommandspermission.png](https://docs.microsoft.com/ru-ru/minecraft/creator/documents/media/commands/enablecommandspermission.png)

Использование чата для команд

Первым шагом к изучению команд является освоение функциональности чата. Именно здесь вы выполняете простые команды,
изучаете синтаксис, тестируете и в конечном итоге открываете шлюз для командных блоков. Если ваши настройки и разрешения
установлены правильно, при вводе прямой косой черты `/` в чате отобразится большое количество команд.

![chatcommands.png](https://docs.microsoft.com/ru-ru/minecraft/creator/documents/media/commands/chatcommands.png)

Также становится доступной кнопка быстрого действия для создания команды для определенных ситуаций (например, для
изменения времени суток или текущей погоды).

![quickaction.png](https://docs.microsoft.com/ru-ru/minecraft/creator/documents/media/commands/quickaction.png)

По мере ввода текста список команд будет сокращаться в соответствии с вводимыми символами. Вы можете в любой момент
нажать клавишу tab, чтобы просмотреть список и выбрать команду для выполнения. После того как имя команды будет
полностью набрано, список команд изменится на список синтаксиса выбранной команды.

## Синтаксис команды

Все команды выполняются по одной и той же грамматике:

+ Если команда выполняется в чате, она должна начинаться с прямой косой черты.
+ После потенциального прямого слэша следует имя команды.
+ После имени следует пробел - если после него должны быть какие-либо аргументы.
+ После пробела следуют любые аргументы для команды, каждый из которых отделяется пробелом.

Например, следующая команда `/say` - это команда, которая отправит заданное сообщение в чат для просмотра всеми
игроками:

```
/say Hello World
```

+ Она начинается с прямой косой черты.
+ Затем следует имя команды, "say".
+ Поскольку после имени есть аргументы, после него ставится пробел.
+ Затем указывается единственный аргумент команды /say - сообщение, которое нужно вывести на экран.

В результате в чат будет выведено сообщение "Hello World".

### Аргументы

Аргументы, которые имеет команда, зависят от того, какая команда используется. Команда `/help` опишет команду и
аргументы, которые она имеет. Функция автозаполнения, которая доступна в чате при вводе команды, отобразит ту же
информацию.

Например, выполнив команду `/help testfor` в чате, вы получите доступный синтаксис для команды `/testfor`.

```
/testfor <victim: target>
```

Команда имеет только один аргумент: цель, существование которой необходимо проверить. Заполнение аргумента именем игрока
и выполнение команды выведет сообщение об успехе, если игрок с указанным именем вошел в мир.

```
/testfor PlayerName
```

Существует 3 основных типа аргументов: обязательные, необязательные и литеральные.

**Необходимые аргументы**

Обязательный аргумент окружен угловыми скобками. В случае команды `/testfor`, единственный аргумент, который она имеет,
является обязательным, поскольку окружен угловыми скобками. Если аргумент не указан, команда не будет выполнена. Эти
типы аргументов имеют краткое описание аргумента, а также ожидаемый тип ввода. Рассмотрим команду `/difficulty`:

```
/difficulty <difficulty: Difficulty>
/difficulty <difficulty: int>
```

Единственный аргумент, который он имеет, - требуемый, обозначенный угловыми скобками. Дескриптор - "сложность", что
намекает на то, что в качестве аргумента будет использоваться сложность, на которую нужно установить мир. После
двоеточия указан ожидаемый тип ввода. В этом аргументе входными данными могут быть либо одно значение из перечисления (
список ожидаемых значений, включая "легко", "нормально" и "трудно", обозначенный как "Сложность"), либо целое число,
соответствующее сложности (от 0 до 3 соответственно).

Любая из следующих команд установит сложность на hard.

```
/difficulty hard
/difficulty 3
```

**Необязательные аргументы**

Необязательный аргумент окружен квадратными скобками. Эти аргументы не обязательно должны быть предоставлены. Как и
обязательный аргумент, он будет содержать дескриптор и ожидаемый тип.

```
/gamemode <gameMode: GameMode> [player: target]
/gamemode <gameMode: int> [player: target]
```

Как и команда `/difficulty`, команда `/gamemode` имеет два эквивалентных синтаксиса. Дескриптор "gameMode"
подразумевает, что ожидаемое значение - это режим игры, а фактический тип может быть либо одним значением из
перечисления (помеченным как "GameMode"), либо целым числом, соответствующим режиму игры (от 0 до 2).

В этом случае после игрового режима идет необязательный аргумент: игрок, у которого будет изменен игровой режим. Тип
ввода - "target", который принимает либо имя игрока, либо селектор цели. Без указания дополнительного аргумента команда
все равно будет выполнена. При этом изменится игровой режим игрока, выполнившего команду. При заполнении дополнительного
аргумента вместо этого будет изменен игровой режим цели.

Любая из следующих команд переведет указанного игрока ("PlayerName") в режим выживания.

```
/gamemode survival PlayerName
/gamemode 0 PlayerName
```

## Литеральный аргументы

Литеральный аргумент - это аргумент без дескриптора. Ожидаемым вводом является имя самого аргумента. Например, с
командой /time:

```
/time set <amount: int>
/time set <time: TimeSpec>
```

Аргумент "set" не имеет дескриптора, что означает, что он должен быть записан буквально. Он также не содержит скобок,
хотя все равно является обязательным аргументом.

```
/time set 6000
/time set noon
```

Литеральный аргумент может иметь несколько принимаемых значений. В таких случаях вертикальная полоса разделяет буквенные
значения. Команда `/weather` использует это для определения типа погоды, когда значение аргумента должно быть одним из
допустимых значений.

```
/weather <clear|rain|thunder> [duration: int]
/weather rain 10000
```

Необязательный литеральный аргумент будет окружен квадратными скобками. Последний аргумент `/testforblocks` -
необязательный литеральный аргумент, который может быть либо "all", либо "masked". Если не указан ни один, то по
умолчанию используется значение "all". Опция "masked" заставит сравнение игнорировать воздушные блоки, позволяя любому
блоку существовать в месте назначения, где в мире был бы блок воздуха.

```
/testforblocks <begin: x y z> <end: x y z> <destination: x y z> [masked|all]
/testforblocks 0 64 0 20 64 20 100 50 100
/testforblocks 0 64 0 20 64 20 100 50 100 masked
```

### Типы ввода

Существует большое количество типов ввода. Наиболее распространенными являются примитивные числовые значения, но есть
много типов, которые являются эксклюзивными для одной команды. В таблице ниже приведены наиболее распространенные типы
ввода и некоторые популярные команды, к которым они относятся. Большинство уникальных типов ввода, таких как "GameMode"
из команды `/gamemode`, можно легко проверить с помощью функции автозаполнения в чате.

| Тип        | Описание                                               | Распространенные команды                                                                                            |
|------------|--------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------|
| Boolean    | true или false.                                        | `/effect`, `/gamerule`                                                                                              |
| int         | Целое число (1, 2, 3).                                  | `/give`, `/scoreboard`, `/time`, `/weather`, `/xp`                                                                  |
| float     | Десятичное число (1, 2.3, 4, 5.6).                      | `/spreadplayers `                                                                                                   |
| string     | Либо отдельное слово, либо текст в "кавычках".         | `/scoreboard`, `/summon`, `/tag`                                                                                    |
| message     | Текст, который не нужно заключать в кавычки.          | `/me`, `/msg`, `/say`, `/tell`, `/title`, `/w `                                                                     |
| x y z      | 3 плавающих значения, разделенных пробелами, для указания координат.<br><br>Каждое значение также может быть тильдой (~), что означает отсутствие изменений от начала выполнения по этой оси, или тильдой, за которой следует число (~5), чтобы указать количество блоков от начала выполнения по этой оси.  | `/clone`, `/execute`, `/fill`, `/setblock`, `/summon`, `/teleport`, `/testforblock` |
| Block      | ID блока.                                              | `/clone`, `/execute`, `/fill`, `/setblock`, `/testforblock`                                                         |
| Item       | ID предмета.                                           | `/clear`, `/give`, `/replaceitem`                                                                                   |
| EntityType | ID сущности.                                           | `/summon`                                                                                                           |
| json       | Текст в формате JSON.                                  | `/give`, `/replaceitem`, `/summon`, `/tellraw`, `/titleraw`                                                         |
| target     | Либо имя игрока, либо селектор цели.                   | `/clear`, `/execute`, `/gamemode`, `/give`, `/kill`, `/replaceitem`, `/scoreboard`, `/tag`, `/teleport`, `/testfor` |

## Селекторы целей

Использование имен игроков в качестве значений аргументов не является идеальным для системы команд, которая
предназначена для работы с любым человеком. Невозможно заранее узнать имена игроков, которые будут использовать ваш
контент. Селекторы целей, которые могут произвольно выбирать игроков и другие объекты, решают эту проблему.

Существует 5 базовых селекторов на выбор: `@p`, `@a`, `@r`, `@e` и `@s`. Выбор селектора зависит от того, кто или что
является целью.

+ `@p`: выбирает одного ближайшего живого игрока, если место выполнения не изменено с помощью параметров селектора x, y
  и z. Если исполнителем является командный блок, будет выбран игрок, находящийся ближе всего к командному блоку, так
  как координаты командного блока являются точкой отсчета исполнения.
+ `@a`: выбирает всех онлайн-игроков, живых или нет.
+ `@r`: выбирает одного случайного живого игрока, если не указан параметр `type`.
+ `@e`: выбирает все сущности (игроков, коров, выпавшие предметы и т.д.).
+ `@s`: выбирает выполняющую сущность, которая может быть изменена командой `/execute`.

Селекторы заменяют имя игрока там, где это возможно. Например, вместо указания имени игрока в команде `/gamemode` вместо
него можно использовать селектор. Следующая команда изменит игровой режим всех игроков на творческий режим:

```
/gamemode creative @a
```

Если с помощью селектора не будет найдено ни одной цели, команда не будет выполнена.

### Параметры селектора

Наряду с базовыми селекторами существуют параметры. Эти необязательные параметры помогают сузить круг желаемых целей,
например, если вы хотите выбрать только игроков в режиме приключения. Все параметры заключены в квадратные скобки, и
каждый параметр отделяется друг от друга запятой. За именем параметра следует знак равенства, за которым идет значение
параметра.

```
@<selector>[param1=value1,param2=value2]
```

Если желаемыми целями предыдущей команды `/gamemode` вместо этого должны быть все игроки в режиме приключений, параметр
m сократит потенциальные цели селектора только до тех, кто находится в режиме приключений. Список всех параметров
приведен ниже.

```
/gamemode creative @a[m=adventure].
```

Потенциальная цель должна соответствовать всем указанным параметрам, прежде чем будет выбрана. Это означает, что при
использовании `@p[tag=sometag,m=survival]` будет выбран ближайший игрок, имеющий тег "sometag" и находящийся в режиме
выживания.

### Список параметров

| Параметр     | Описание                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Пример                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|--------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `x, y, z`    | Указывает координаты, по которым нужно найти игроков. Не обязательно указывать все оси.                                                                                                                                                                                                                                                                                                                                                                                                                 | При использовании `@p[x=0,y=64,z=0]` будет выбран игрок, ближайший к этим координатам, а не игрок, ближайший к началу выполнения.                                                                                                                                                                                                                                                                                                                                                 |
| `r, rm`      | Выбирает цели в радиусе вокруг начала выполнения, если параметры "x, y, z" не изменены.<br><br>`r` - это максимальное количество блоков от начала выполнения, а `rm` - минимальное количество блоков от начала выполнения.<br><br>Один из параметров может быть указан без указания другого.                                                                                                                                                                                                            | `@p[x=0,y=64,z=0,r=1]` выберет игрока, находящегося на расстоянии 1 блока от указанных координат.<br><br>`@a[rm=3]` выберет всех игроков на расстоянии 3 блоков от начала выполнения.<br><br>`@e[rm=3,r=10]` выберет всех субъектов, которые находятся между 3 и 10 блоками от начала выполнения.                                                                                                                                                                                 |
| `dx, dy, dz` | Выбирает цели в прямоугольном кубоиде. Начало выполнения будет одним из углов, а каждый из этих параметров задает расстояние от начала до другого угла.<br><br>Если любой из этих параметров указан, остальные, которые не указаны, будут по умолчанию равны 0.                                                                                                                                                                                                                                         | `@a[x=60,y=64,z=60,dx=5,dy=3,dz=5]` будет выбирать игроков, которые находятся в пределах 5 блоков в направлениях X и Z и 3 блоков в направлении Y от указанных координат.<br><br>`@a[dy=50]` выберет игроков, которые находятся в пределах 50 блоков от начала выполнения в направлении Y, а также в пределах 0 блоков в направлениях X и Z. Это означает, что игрок должен находиться в том же горизонтальном положении, что и начало координат, но на 50 блоков выше него.      |
| `c`          | Изменяет максимальное количество целей, которые потенциально могут быть выбраны. Выбор целей зависит от сортировки селектора целей.<br><br>Обратите внимание, что если доступных целей меньше, чем значение, заданное параметром, селектор все равно успешно выберет эти цели.                                                                                                                                                                                                                          | `@a[c=5]` выберет максимум 5 ближайших игроков, а не всех игроков. Если в мире только 3 игрока, они все равно будут выбраны.<br><br>`@p[c=100]` будет выбрано до 100 ближайших игроков к началу выполнения.<br><br>`@r[c=3]` выберет до 3 случайных игроков.                                                                                                                                                                                                                      |
| `type`       | Выбирает цели на основе их идентификатора сущности. Этот параметр нельзя использовать с селекторами `@a` или `@p`.<br><br>Может использоваться с `@r` для выбора целей, отличных от игроков.<br><br>Значение может быть отрицательным, чтобы выбрать цели, не являющиеся указанной сущностью.<br><br>Несколько значений этого параметра можно использовать для дополнительного ограничения целей, но только если параметры отрицаются.                                                                  | `@e[type=minecraft:bat]` выберет всех летучих мышей.<br><br>`@r[type=minecraft:cow]` выберет одну случайную корову.<br><br>`@s[type=!minecraft:player]` выберет исполняющий объект, если он не игрок.<br><br>`@r[type=!minecraft:sheep, type=!minecraft:chicken]` выберет одну случайную сущность, которая не является овцой или курицей.                                                                                                                                         |
| `m`          | Выбирает игроков на основе их игрового режима.<br><br>Значение может быть отрицательным, чтобы выбрать игроков, которые не находятся в указанном режиме игры.                                                                                                                                                                                                                                                                                                                                           | `@a[m=survival]` выберет всех игроков в режиме выживания.<br><br>`@a[m=!creative]` выберет всех игроков, которые не находятся в творческом режиме.                                                                                                                                                                                                                                                                                                                                |
| `tag`        | Выбирает цели, имеющие указанный тег (заданный командой `/tag`).<br><br>Можно отрицать, чтобы выбрать цели, не имеющие указанного тега.<br><br>Несколько значений этого параметра можно использовать для дальнейшего ограничения целей.                                                                                                                                                                                                                                                                 | `@e[tag=myfriend]` выберет все сущности с тегом "myfriend".<br><br>`@e[tag=!myfriend]` выберет все сущности, у которых нет тега "myfriend".<br><br>`@a[tag=a,tag=b,tag=!c]` выберет всех игроков, имеющих метки "a" и "b", но только если у них нет метки "c".                                                                                                                                                                                                                    |
| `name`       | Выбирает цели с указанным именем, будь то имя игрока или пользовательское имя объекта.<br><br>Может быть отменен для выбора целей, не имеющих указанного имени.<br><br>Можно использовать несколько параметров, но только если дополнительные параметры отрицаются.                                                                                                                                                                                                                                     | `@a[name=PlayerName]` выберет всех игроков с именем "PlayerName".<br><br>`@a[name=!PlayerName]` выберет всех игроков, не имеющих имени "PlayerName".<br><br>`@e[name=!a,name=!b]` будет выбирать сущности, которые не имеют имен "a" или "b".                                                                                                                                                                                                                                     |
| `l, lm`      | Выбирает игроков между минимальным уровнем опыта (`lm`) и максимальным уровнем опыта (`l`).<br><br>Можно указать один из них, не указывая другой.                                                                                                                                                                                                                                                                                                                                                       | `@a[lm=10]` выберет всех игроков, имеющих 10 или более уровней опыта.<br><br>`@a[l=15]` выберет всех игроков, имеющих 15 или менее уровней опыта.<br><br>`@a[lm=10,l=15]` выберет всех игроков, имеющих уровень опыта между 10 и 15.                                                                                                                                                                                                                                              |
| `rx, rxm`    | Выбирает цели, чей поворот по оси X (угол наклона) находится между минимальным (`rxm`) и максимальным (`rx`). Угол наклона объекта находится в диапазоне от -90 градусов (направлен прямо вверх) до 90 градусов (направлен прямо вниз).<br><br>Одно из них можно указать без указания другого.                                                                                                                                                                                                          | `@p[rxm=45,rx=90]` выберет ближайшего игрока, который смотрит вниз между углом 45 градусов и углом 90 градусов.<br><br>`@e[rx=-45]` выберет всех субъектов, которые смотрят вверх между углом 45 градусов и углом 90 градусов.                                                                                                                                                                                                                                                    |
| `ry, rym`    | Выбирает цели, чей поворот по Y (рысканье) находится между минимальным (`rym`) и максимальным (`ry`). Рысканье объекта находится в диапазоне от -180 до 180 градусов.<br><br>Одно из них можно указать без указания другого.                                                                                                                                                                                                                                                                            | `@a[rym=45,ry=135]` выберет всех игроков, которые обычно обращены на запад.<br><br>`@a[rym=-180,ry=-180]` выберет всех игроков, обращенных точно на север.                                                                                                                                                                                                                                                                                                                        |
| `scores`     | Выбирает цели, которые имеют определенный счет по цели.<br><br>Параметр может указывать несколько целей в фигурных скобках, при этом каждая цель разделяется запятой.<br><br>Диапазон между двумя включенными значениями может быть указан с помощью символа "..", например, "3..7" проверяет значение между 3 и 7.<br><br>Значение заданной цели можно отрицать, чтобы выбрать цели, у которых нет совпадающего значения счета. Обратите внимание, что нулевое значение не равно отрицаемому значению. | `@e[scores={objectiveA=3}]` выберет всех субъектов, которые имеют оценку 3 в задаче "objectiveA".<br><br>`@a[scores={points=4,deaths=!5}]` выберет всех игроков, у которых количество "очков" равно 4, а количество "смертей" не равно 5.<br><br>`@a[scores={points=10..50}]` выберет всех игроков, у которых количество "очков" от 10 до 50.<br><br>`@a[scores={deaths=10..,points=..2}]` выберет всех игроков, у которых счет "смертей" 10 или выше, а счет "очков" 2 или ниже. |
| `family`     | Выбирает цели, принадлежащие к типу семьи, как определено в компоненте `minecraft:type_family` сущности.<br><br>Значение может быть отрицательным, чтобы выбрать цели, не принадлежащие к типу семьи.<br><br>Множественные значения этого параметра могут использоваться для дальнейшего ограничения целей.                                                                                                                                                                                             | `@e[family=skeleton]` выберет все сущности, принадлежащие к семейству "skeleton".<br><br>`@e[family=!monster]` выберет все сущности, которые не принадлежат к семейству "monster".                                                                                                                                                                                                                                                                                                |
